# MemoPing 메모핑 📒✨

> 메모를 간단히 기록할 수 있는 메모핑! 메모가 어렵다구? 메모핑과 함께 간단하고 쉽게 메모할 수 있어!  
실시간 동기화를 통해 누구나 쉽게 메모를 관리할 수 있는 간단한 웹 애플리케이션입니다.  
프로젝트를 시작한 계기: https://devpearl.tistory.com/15 

## Overview

A simple memo web application built with Next.js and NodeJS express server, Mongo DB. The application allows users to create, read, and delete memos with real-time synchronization using a Test-Driven Development (TDD) approach.

## Features

- ✏️ **Create Memo**: Add new memos with a simple input form.
- ✏️ **Update Memo**: Update memo and save changes.
- 📄 **Read Memo**: View a list of memos, which updates in real-time.
- 🗑️ **Delete Memo**: Remove memos from the list with a single click.
- 🔄 **Real-time Synchronization**: All changes are instantly reflected for all users through Mongo DB.
- ✅ **Test-Driven Development**: TDD methodology applied with Jest and React Testing Library.

## Tech Stack

- **Frontend**: Next.js, TypeScript
- **Backend**: Node.js, Express
- **DataBase**: MongoDB
- **Testing**: Vitest, 
- **Styling**: Tailwind CSS, Next UI

## **MemoPing 프로젝트 개발 타임라인**

### **V0.0.1: 기본 프론트엔드 CRUD 기능 구현**
> **목표**: 메모를 생성, 읽기, 수정, 삭제할 수 있는 기본 UI와 상태 관리 로직 구현, vitest를 이용한 TDD 방식으로 검증.
- **기능 구현**:
  - 메모 생성, 읽기, 수정, 삭제 기능 UI 구현.
  - 각 기능에 대한 단위 테스트 작성 (Vitest).
  - TDD로 개발하며, 테스트를 먼저 작성하고 그에 맞는 기능 코드 작성.
- **완료 목표**: `2024-10-15`
- **개발**: `2024-10-12 ~ 2024-10-15`

---

### **번외: 서버 구축 및 MongoDB 연결 위한 백엔드 공부**
- https://github.com/devpearlkim/todolist-demo
- 기초 express app(router, controller, mongoDB연결)
- **완료 목표**: `2024-10-22`
  
---

### **V0.0.2: 서버 구축 및 MongoDB 연결**
> **목표**: Express 서버와 MongoDB 데이터베이스 설정, API 라우트 작성 및 데이터베이스 연동, Vitest로 TDD 방식의 서버 검증.
- **기능 구현**:
  - Express 서버 설정 및 기본 라우트 구축.
  - MongoDB 연결 및 Mongoose 스키마 정의.
  - CRUD API 엔드포인트 구현 (`POST /memos`, `GET /memos`, `DELETE /memos/:id`).
  - 서버 및 데이터베이스 관련 단위 테스트 작성 (Vitest).
  - API 요청에 대한 에러 처리 및 검증.
- **완료 목표**: `2024-`

---

### **V0.0.3: CSS 스타일링 및 UI 개선**
> **목표**: Tailwind CSS와 Next UI를 사용하여 프로젝트의 기본 스타일링을 적용하고, 사용자 경험을 개선.
- **기능 구현**:
  - 메모 리스트와 메모 작성 폼의 기본 스타일링 적용.
  - 반응형 디자인 설정 (모바일, 태블릿, 데스크톱 지원).
  - 사용자의 편의성을 위한 인터랙션 추가 (hover, active 등).
  - 기본 UI 컴포넌트들을 Next UI로 마이그레이션.
  - 스타일링 관련 UI 테스트 작성.
- **완료 목표**: `2024-`

---

### **V0.0.4: 전체 E2E 테스트**
> **목표**: Playwright 또는 Cypress를 사용해 사용자 흐름과 전체 기능에 대한 E2E 테스트 작성 및 검증.
- **기능 구현**:
  - 사용자 플로우 시나리오 작성 (메모 생성, 수정, 삭제 시나리오).
  - Playwright 또는 Cypress 설정 및 환경 구성.
  - 각 주요 기능에 대한 E2E 테스트 작성 (e.g., 메모를 작성하고 리스트에 표시되는지 검증).
  - CI/CD 파이프라인과 연동하여 E2E 테스트 자동화.
- **완료 목표**: `2024-`

---

### **V0.0.5: 배포 및 성능 최적화**
> **목표**: 프로젝트를 Vercel 또는 AWS에 배포하고, 성능 및 로딩 속도 최적화.
- **기능 구현**:
  - Vercel에 Next.js 프론트엔드 배포 및 Express 서버와 연결.
  - MongoDB Atlas를 사용한 데이터베이스 클라우드 호스팅.
  - 이미지 최적화, 코드 스플리팅, 서버 사이드 렌더링(SSR) 설정.
  - Lighthouse를 사용한 성능 점검 및 개선.
- **완료 목표**: `2024-`

---

### **V0.0.6: 사용자 피드백 반영 및 기능 개선**
> **목표**: 초기 사용자 피드백을 반영하여 UX/UI 및 기능 개선.
- **기능 구현**:
  - 피드백 기반으로 불편했던 UI 개선.
  - 메모 검색 기능 추가.
  - 실시간 알림 기능 구현 (e.g., 메모가 추가되거나 수정되었을 때).
  - 추가된 기능에 대한 테스트 작성 및 검증.
- **완료 목표**: `2024-`

---

## **타임라인 요약**

| 단계       | 목표                                  | 완료 목표      |
|------------|-------------------------------------|----------------|
| **V0.0.1** | 기본 프론트엔드 CRUD 구현 (TDD)       | `2024-10-15`   |
| **번외**   | 서버 구축을 위한 Node.js, mongoDB 공부| `2024-10-22`   |
| **V0.0.2** | 서버 구축 및 MongoDB 연결 (TDD)       | `2024-`   |
| **V0.0.3** | CSS 스타일링 및 UI 개선                | `2024-`   |
| **V0.0.4** | 전체 E2E 테스트                       | `2024-`   |
| **V0.0.5** | 배포 및 성능 최적화                   | `2024-`   |
| **V0.0.6** | 사용자 피드백 반영 및 기능 개선       | `2024-`   |

## **MemoPing 프로젝트 개발 타임라인 (v1.0.1 이상)**

### **V1.0.1: 로그인 및 회원가입 기능 추가 및 세션 관리**
> **목표**: 사용자 인증 시스템 구현, 회원가입 및 로그인 기능을 통해 사용자의 접근을 제한하고 사용자 기반의 메모 관리 구현.
- **기능 구현**:
  - 사용자 등록 기능 (`POST /register`).
  - 사용자 로그인 기능 (`POST /login`).
  - JWT 또는 세션을 이용한 인증 관리.
  - 인증된 사용자만 메모 작성 및 조회 가능하도록 API 보호.
  - 인증 관련 테스트 작성 (Vitest).
- **완료 목표**: `2024-`

---

### **V1.0.2: 상태 관리 추가**
> **목표**: Redux를 사용하여 전역 상태를 효율적으로 관리하고 사용자 정보 및 메모 데이터를 관리.
- **기능 구현**:
  - 상태 관리 라이브러리 설치 및 기본 설정.
  - 사용자 인증 상태 및 메모 목록을 전역 상태로 관리.
  - 상태 변화에 따른 UI 반응 및 업데이트 구현.
  - 상태 관리 관련 테스트 작성 (Vitest).
- **완료 목표**: `2024-`

---

### **V1.0.3: Change Stream 및 WebSocket으로 실시간 동기화**
> **목표**: 사용자가 로그인 후 메모를 작성할 수 있도록 상태 관리와 함께 실시간 동기화를 구현하여 여러 사용자가 동시에 작업해도 데이터의 일관성을 유지.
- **기능 구현**:
  - MongoDB Change Stream 설정 및 WebSocket 통신 구현.
  - 메모 작성, 수정, 삭제 시 실시간으로 UI 업데이트.
  - 여러 사용자 간의 동기화 관련 테스트 작성 (Vitest).
- **완료 목표**: `2024-`

---

### **V1.0.4: GraphQL로 MongoDB Change Stream 사용한 부분 변경**
> **목표**: GraphQL을 통해 데이터 요청을 최적화하고 더 유연한 API를 만들기, Change Stream과의 통합을 통해 실시간 데이터 수신을 관리.
- **기능 구현**:
  - GraphQL 서버 설정 및 기본 스키마 정의.
  - MongoDB Change Stream을 GraphQL 쿼리와 통합.
  - CRUD 작업을 GraphQL API로 구현.
  - GraphQL API 관련 테스트 작성 (Vitest).
- **완료 목표**: `2024-`

---

## **타임라인 요약 (v1.0.1 이상)**

| 단계       | 목표                                   | 완료 목표      |
|------------|-------------------------------------|----------------|
| **V1.0.1** | 로그인 및 회원가입 기능 추가 및 세션 관리   | `2024-`   |
| **V1.0.2** | 상태 관리 추가                      | `2024-`   |
| **V1.0.3** | Change Stream 및 WebSocket 실시간 동기화 | `2024-`   |
| **V1.0.4** | GraphQL로 적용  | `2024-`   |


### **메모핑 V0.0.1** 
> **목표: 메모를 생성, 읽기, 수정, 삭제할 수 있는 로직 구현, vitest를 이용한 TDD 방식으로 검증.**

### **V0.0.1 CRUD 기능 세부 분할 및 체크리스트**

#### **1. 메모 생성 (Create)**

- ✅ **입력 상태 관리**: 사용자의 입력에 따라 상태가 업데이트.
  - ✅ 입력 필드에 텍스트를 입력할 때 상태가 올바르게 변경되는지 확인.
- ✅ **입력 유효성 검사**: 빈 값일 경우 메모는 추가되지 않고 alert 창 띄움.
  - ✅ 빈 값 입력 시 alert 뜨는지 확인.
  - ✅ 빈 값 입력 시 메모가 추가되지 않는지 확인.

#### **2. 메모 읽기 (Read)**
- ✅ **메모 목록 렌더링**: 가져온 메모 목록을 화면에 표시.
  - ✅ 메모의 제목과 메시지 표시
  - ✅ 메모가 없는 경우, "메모가 없습니다" 메시지 표시.

#### **3. 메모 수정 (Update)**

- ✅ **수정 버튼 추가**: 각 메모 아이템에 수정 버튼 추가.
- ✅ **수정 상태 전환**: 수정 버튼 클릭 시, 수정 가능한 입력 필드로 전환.
  - ✅ 수정 버튼 클릭 시, 기존 메모 내용이 입력 필드에 표시.
- ✅ **수정 내용 저장**: 수정된 내용이 저장됨.
- [ ] **수정 취소**: 수정 상태에서 취소 버튼을 클릭 시, 이전 내용 유지.

#### **4. 메모 삭제 (Delete)**

- ✅ **삭제 버튼 추가**: 각 메모 아이템에 삭제 버튼 추가.
- [ ] **삭제 확인 모달**: 삭제 버튼 클릭 시, 확인 모달 표시.
- ✅ **메모 삭제**: 메모 삭제.
- [ ] **삭제 중 로딩 상태 표시**: 삭제 중 로딩 상태를 표시.

### **V0.0.2 서버 구축 및 MongoDB 연결 세부 분할 및 체크리스트**
> **목표: Express 서버와 MongoDB 데이터베이스 설정, API 라우트 작성 및 데이터베이스 연동, Vitest로 TDD 방식의 서버 검증.**

#### **1. Express 서버 구축**

- [ ] **Express 설치 및 기본 설정**: `express` 모듈 설치 및 서버 기본 설정.

#### **2. MongoDB 연결**

- [ ] **MongoDB 설치 및 환경 변수 설정**: MongoDB 연결을 위한 설정 추가.
  - [ ] `mongoose` 패키지 설치 (`npm install mongoose`).
  - [ ] `.env` 파일을 생성하여 MongoDB 연결 URI를 환경 변수로 관리.
  - [ ] 환경 변수를 `dotenv`를 통해 로드 (`require('dotenv').config()`).

- [ ] **MongoDB 연결 테스트**: Express 서버와 MongoDB 간의 연결 상태 확인.
  - [ ] `mongoose.connect()`를 사용하여 MongoDB에 연결.
  - [ ] 연결 성공 시 "Connected to MongoDB" 메시지 로그.
  - [ ] 연결 실패 시 오류 메시지 로그.

#### **3. 메모 모델 및 스키마 정의**

- [ ] **메모 스키마 설계**: MongoDB에서 사용할 메모 스키마 정의.
  - [ ] `Memo` 스키마 정의 (`title`, `content`, `createdAt` 필드 포함).
  - [ ] `createdAt` 필드에 기본값으로 현재 시간을 설정.

- [ ] **메모 모델 생성**: `Memo` 스키마를 기반으로 Mongoose 모델 생성.
  - [ ] `mongoose.model()`을 사용하여 모델 생성.
  - [ ] 다른 파일에서 사용할 수 있도록 모델 모듈화 및 내보내기.

#### **4. API 라우트 정의**

- [ ] **메모 생성 (Create)**: 클라이언트로부터 받은 데이터를 기반으로 메모를 생성.
  - [ ] `POST /memos` 라우트 추가.
  - [ ] 요청 본문에서 `title`과 `content`를 받아 새 메모 생성.
  - [ ] 저장된 메모를 JSON 형식으로 반환.
  - [ ] 입력 값이 유효하지 않을 경우, 적절한 오류 메시지를 반환.

- [ ] **메모 읽기 (Read)**: 저장된 모든 메모를 조회.
  - [ ] `GET /memos` 라우트 추가.
  - [ ] MongoDB에서 모든 메모를 조회하고 JSON 형식으로 반환.
  - [ ] 메모가 없는 경우, 빈 배열 반환.

- [ ] **메모 삭제 (Delete)**: 특정 메모를 삭제.
  - [ ] `DELETE /memos/:id` 라우트 추가.
  - [ ] URL 파라미터로 받은 메모 ID에 해당하는 메모 삭제.
  - [ ] 삭제 성공 시, 삭제된 메모의 정보를 JSON 형식으로 반환.
  - [ ] 삭제 실패 시, 적절한 오류 메시지를 반환.

#### **5. 서버 에러 핸들링 및 테스트**

- [ ] **에러 핸들링 미들웨어 추가**: 모든 라우트에서 발생할 수 있는 에러를 처리.
  - [ ] 모든 라우트에서 발생한 에러를 캐치하여 JSON 형식으로 반환.
  - [ ] 클라이언트가 잘못된 요청을 보낼 경우, `400` 상태 코드와 함께 메시지 반환.

- [ ] **API 테스트 및 검증**: Postman 또는 Jest를 사용하여 API 검증.
  - [ ] 각 라우트에 대해 API 요청을 테스트.
  - [ ] 정상적인 데이터 및 유효하지 않은 데이터로 요청을 테스트하여 응답 상태 코드 확인.
  - [ ] MongoDB에서 데이터가 정확하게 추가, 조회, 삭제되는지 확인.
